<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core"> 

	<h:head>
		<title>Tableau de bord</title>
	</h:head> 
	
	
	
	<h:body> 
		<ui:composition template="/template/layout.xhtml">
			<ui:define name="content">
				<h:form>
					<p:dataList value="#{tableauBordMB.contratsOfConseiller}" var="contrat" type="ordered">
				        <f:facet name="header">
				            Contrats
				        </f:facet>
				        <strong>Client :</strong> #{contrat.client.nom} #{contrat.client.prenom}, 
				        <strong>Bien :</strong> #{contrat.bienImmobilier.classeStandard.typeBien.toString()},
				        #{contrat.bienImmobilier.prix} &euro; , #{contrat.dateToString}
				    </p:dataList>
				</h:form>
				
				<h:form> 
				    <h3 style="margin-top:0">Classes Standards de biens immobiliers</h3>
				    <p:accordionPanel activeIndex="">
				    	<c:forEach items="#{tableauBordMB.classesStandards}" var="classe" >
					        <p:tab title="Clients intéressés par la classe #{classe.idClasseStandard}">
								<p:dataList value="#{classe.listClients}" var="client" type="definition">
							       	Client: #{client.nom} #{client.prenom}
							    </p:dataList>
					        </p:tab>
						</c:forEach>
				    </p:accordionPanel>
				</h:form>
			
			
			</ui:define>
			
			<ui:define name="sidebar">
				<h:form>
					<p:panel header="Information conseiller">	
						<h:outputText value="#{conseillerMB.conseillerImmobilier.prenom} " />
						<h:outputText value="#{conseillerMB.conseillerImmobilier.nom}" /><br/>
						<h:outputText value="Tél : #{conseillerMB.conseillerImmobilier.telephone}" /><br/>
						<h:outputText value="Adresse : #{conseillerMB.conseillerImmobilier.adresse}" />
					</p:panel>
				</h:form>
				<h:form>
					<p:calendar mode="inline"/>
				</h:form>
			</ui:define>
		</ui:composition>
	</h:body> 
	
</html>
